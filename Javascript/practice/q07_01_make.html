<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>글 작성</title>
</head>
<style>
    #regbox{
        float: left;
    }
    
</style>
<body>
    <form action="#" method="get" id="boardInput">
    <fieldset>
        <legend>게시글 작성</legend>
        <label for="name">작성자</label>
        <input type="text" name="name" id="name" placeholder="홍길동">
        <br>
        <label for="title">글 제목</label>
        <input type="text" name="title" id="title" placeholder="첫번째">
        <br>
        <label for="contents">글 내용</label><br>
        <textarea name="contents" id="contents" cols="30" rows="10" placeholder="좋아요! 구독!을 눌러주세요."></textarea>

    </fieldset>
    </form>
    <input type="button" value="게시물 등록" id="regbox" onclick="regBoard()">
    <input type="button" value="게시판으로 돌아가기" onclick="backlist()">
    <script>
        var boardList = JSON.parse(localStorage.getItem('boardInfo'));

        window.onload = function(){
            if(boardList == undefined){  
                boardList = [];    
            }
        }
        function regBoard(){
            var boardDate = new Date();
            var date1 =boardDate.toLocaleDateString();
            var date2 =boardDate.toLocaleTimeString();
            console.log(date1)
            var b = document.getElementById('boardInput');
            var eachBoard = {
                name : b.name.value,
                title : b.title.value,
                contents : b.contents.value,
                date : date1+' '+date2
            }
            console.log(eachBoard);
            boardList.push(eachBoard);
            localStorage.setItem('boardInfo',JSON.stringify(boardList));
            alert('게시물 등록완료');
            backlist();
        }
        function backlist(){
            location.href = 'q07_01_list.html'
        } 
    </script>
</body>
</html>